#!/usr/bin/env bash

if [[ $# -eq 1 ]]; then
    selected=$1
else
    selected=$(</dev/stdin)
fi

# WSL
if  [ -x "$(command -v clip.exe)" ]; then
    echo "$selected" | clip.exe
    exit
fi

# Macos
if  [ -x "$(command -v /usr/bin/pbcopy)" ]; then
    echo "$selected" | /usr/bin/pbcopy
    exit
fi

# Linux
if  [ -x "$(command -v xclip)" ]; then
    echo "$selected" | xclip -selection clipboard
    exit
fi

echo 'Clipboard copy command not found.'
exit 1
